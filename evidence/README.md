# 电子存证

[![Smart Contract](https://badgen.net/badge/smart-contract/Solidity/orange)](https://soliditylang.org/) 

电子存证是一种用于保存证据的手段，应用场景很多，例如在版权领域，作者可以将作品指纹保存到电子存证机构，当出现版权纠纷时，可通过取证解决纠纷。存证、取证的关键环节是电子存证服务机构，如何保证它的可信性，即存证机构本身不会对存证数据进行破坏？传统的中心化存证机构很难解决这个问题，需要由区块链技术来解决。在区块链技术中，电子账本由各个节点共同维护，其内容由共识算法决定，单一节点无法篡改已达成共识的账本数据。这一不可篡改的特性是去中心化电子存证方案的核心。该方案中，存证数据不再存储于单一机构，而是分布式地存储在所有区块链节点上。

## 前提条件

在使用智能合约之前，必须对以太坊和Solidity有基本的了解。
有关智能合约入门的全面指南，请参阅我们的[初学者指南](https://github.com/BSN-DDC/docs/blob/main/BSN-DDC%E7%BD%91%E7%BB%9C%E9%83%A8%E7%BD%B2Solidity%E5%90%88%E7%BA%A6%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E6%8C%87%E5%8D%97.pdf)。

## 概述

电子数据存证是记录“用户身份验证-数据创建-存储-传输”全过程的方式，应用一系列安全技术全方位确保电子数据的真实性、完整性、安全性，在司法上具备完整的法律效力。

用区块链+智能合约进行数据存证，具有以下优势：

- 防篡改机制：使用区块链技术保全证据，进一步加强了证据不可篡改性。
- 证据效力得到机构认可：司法机构作为链上节点，对链数据参与认可和签名，事后可从链上确认数据的真实有效性。
- 服务持续有效：数据被多方共识上链后，即使有部分共识方退出也不会造成数据的丢失或失效。


## 主要功能

创建存证 -> 存储存证 -> 提取存证

- 存证方：提交存证到链上。可通过数字证书、时间戳等技术手段对业务发生过过程中的系统数据、在线签署的各类合同、文件和票据，以及各方行为意愿的过程数据进行全程存证，并生成唯一哈希值。
- 存储方：保存存证数据。在去中心化方案中，由区块链上的智能合约充当存储方。
- 取证方：提取存证数据。当存证上链后，取证方可随时查询存证所属方、时间戳等相关信息进行核验。

## 用法

分两个接口：提交存证、查看存证

提交存证：

    - setData(bytes32 hash, address owner, bytes memory remaks, uint timestamp): 存证方提交存证请求。hash是存证数据摘要，owner是归属方， remaks是说明信息，timestamp是生效时间戳
        
查看存证：
    
    - getData(bytes32 hash) public view returns(bytes32 , address, bytes memory, uint)：取证方提取存证数据。 



